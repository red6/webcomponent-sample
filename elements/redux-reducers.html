<script src="../node_modules/redux/dist/redux.min.js"></script>

<script>
    (function() {

        //const tasksReducer = () =
        function tasksReducer(state = { loading: false, tasks: [] }, action) {
            switch (action.type) {
                case 'TASK_LOADING_STARTED':
                    return Object.assign({}, state, {loading: true});

                case 'TASK_LOADING_COMPLETED':
                    return Object.assign({}, state, {
                        loading: false,
                        items: action.items
                    });
                case 'OPEN_TASK':
                    return Object.assign({}, state, {
                        items: state.items,
                        selectedItem: state.items[action.itemIdx],
                        loading: false
                    });
                default:
                    return state;
            }
        }

        TaskView.rootReducer = Redux.combineReducers({
            tasks: tasksReducer,
        });

    }());
</script>
