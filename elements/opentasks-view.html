<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="task-list.html">
<link rel="import" href="task-subtask-view.html">

<dom-module id="opentasks-view">

  <template>
    <iron-ajax url="tasks.json" last-response="{{tasks}}" auto></iron-ajax>

    <app-drawer-layout>

      <task-list drawer tasks="{{tasks}}" selected-task="{{selectedTask}}"></task-list>

      <task-subtask-view main task="{{selectedTask}}"></task-subtask-view>

    </app-drawer-layout>
  </template>

  <script>
    class OpentasksView extends Polymer.Element {
        static get is() {
            return 'opentasks-view';
        }
    }
  </script>

</dom-module>
