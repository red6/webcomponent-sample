<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">

<dom-module id="input-header">

  <template>

    <style>
        .search-box {
          padding-left: 10px;
          padding-right: 10px;
          background-color: #fff;
          border: 1px solid #eee;
          box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
        }
        .search-box iron-icon {
          color: var(--google-grey-700);
          fill: var(--google-grey-700);
          margin: 0 8px;
        }
        .search-box {
          @apply(--layout-flex);
          @apply(--layout-vertical);
        }
    </style>
    <app-toolbar>
        <paper-input class="search-box" no-label-float="true" value="{{label}}" on-keyup="_handleInput">
          <iron-icon prefix icon="label"></iron-icon>
        </paper-input>
    </app-toolbar>
  </template>

  <script>
    class InputHeader extends TaskView.ReduxMixin( Polymer.Element ) {
        static get is() {
            return 'input-header';
        }

        static get properties() {
            return {
                label: {
                    type: String,
                    notify: true
                }
            }
        }
      _handleInput(e) {
        if (e.keyCode == 13) {
          this.editMode = false;
        }
      }
    }
    window.customElements.define(InputHeader.is, InputHeader);
  </script>

</dom-module>
